{"version":3,"file":"static/js/82.6c08f8e3.chunk.js","mappings":"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","sources":["components/Nav.js","components/Actions.js","components/Header.js","components/Product.js","components/CategoryButton.js","components/Pagination.js","components/Search.js","components/ProductPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Nav() {\r\n  return (\r\n    <nav className=\"flex justify-evenly font-semibold \">\r\n      <Link to=\"/\">Home</Link>\r\n      <Link to=\"/products\">Products</Link>\r\n      <Link to=\"/contact\">Contact us</Link>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport wish from \"../assets/wishlist.png\";\r\nimport cart from \"../assets/shopping-cart.png\";\r\nimport user from \"../assets/user.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Overlay, UserContext } from \"../App\";\r\n\r\nfunction Actions() {\r\n  const context = useContext(UserContext);\r\n  const overlay = useContext(Overlay);\r\n  const [favoriteCounter, setFavoriteCounter] = useState(0);\r\n  const [cartCounter, setCartCounter] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setFavoriteCounter(context.favoriteList.length);\r\n  }, [context.favoriteList.length]);\r\n  useEffect(() => {\r\n    setCartCounter(context.cart.length);\r\n  }, [context.cart.length]);\r\n\r\n  return (\r\n    <div className=\"flex justify-end gap-x-5 font-semibold\">\r\n      <button\r\n        className=\"flex\"\r\n        onClick={() => {\r\n          overlay.setFavoriteOverlay((prev) => !prev);\r\n        }}\r\n      >\r\n        <img src={wish} alt=\"wishList icon\" className=\"h-9\"></img>\r\n        <p className=\"self-end text-sm\">{favoriteCounter || 0}</p>\r\n      </button>\r\n      <button\r\n        className=\"flex\"\r\n        onClick={() => {\r\n          overlay.setCartOverlay((prev) => !prev);\r\n        }}\r\n      >\r\n        <img src={cart} alt=\"cart icon\" className=\"h-9\"></img>\r\n        <p className=\"text-sm self-end\">{cartCounter}</p>\r\n      </button>\r\n      {context.user ? (\r\n        <button className=\"text-center rounded-full outline outline-2 p-2 hover:outline-4\">\r\n          {context.user &&\r\n            context.user.name\r\n              .split(\" \")\r\n              .map((ele) => ele[0])\r\n              .join(\"\")}\r\n        </button>\r\n      ) : (\r\n        <Link to=\"/login\">\r\n          <img src={user} alt=\"user icon \" className=\"h-9\"></img>\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Actions;\r\n","import React from \"react\";\r\nimport Nav from \"./Nav\";\r\nimport Actions from \"./Actions\";\r\n\r\nfunction SiteHeader(props) {\r\n  return (\r\n    <header\r\n      className={\r\n        props.absolute\r\n          ? \"absolute grid grid-cols-3 p-5 items-center shadow-lg bg-tranparent  z-10 w-full text-white \"\r\n          : \"grid grid-cols-3 p-5 items-center shadow-lg bg-tranparent  z-10 w-full text-white \"\r\n      }\r\n    >\r\n      <h1 className=\"logo text-3xl font-bold pointer-events-none text-white uppercase\">\r\n        Comfortina\r\n      </h1>\r\n      <Nav />\r\n      <Actions />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default SiteHeader;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport unloved from \"../assets/unlovedheart.png\";\r\nimport loved from \"../assets/lovedheart.png\";\r\nimport axios from \"axios\";\r\nimport buy from \"../assets/buy.png\";\r\nimport unbuy from \"../assets/unbuy.png\";\r\nimport { UserContext } from \"../App\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Product({\r\n  productName,\r\n  productPrice,\r\n  productImg,\r\n  productSale,\r\n  productId,\r\n}) {\r\n  const [lovedBtn, setLovedBtn] = useState(false);\r\n  const [buyBtn, setBuyBtn] = useState(false);\r\n  const user = useContext(UserContext);\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    const loved = user.favoriteList.filter((ele) => ele === productId);\r\n    loved.length > 0 ? setLovedBtn(true) : setLovedBtn(false);\r\n    const cartItem = user.cart.filter((ele) => ele === productId);\r\n    cartItem.length > 0 ? setBuyBtn(true) : setBuyBtn(false);\r\n  }, []);\r\n\r\n  const handleFavorite = (e) => {\r\n    const productID = e.target.getAttribute(\"dataid\");\r\n    if (window.localStorage.getItem(\"userToken\")) {\r\n      const token = window.localStorage.getItem(\"userToken\");\r\n      axios\r\n        .post(\"https://comfortina-api.vercel.app/api/v1/products/favorite\", {\r\n          token,\r\n          productID,\r\n        })\r\n        .then((res) => {\r\n          const loved = user.favoriteList.filter((ele) => ele === productId);\r\n          if (loved.length > 0) {\r\n            user.setFavoriteList((prev) => {\r\n              return prev.filter((ele) => ele !== productId);\r\n            });\r\n          } else {\r\n            user.setFavoriteList((prev) => [...prev, productId]);\r\n          }\r\n          setLovedBtn((prev) => !prev);\r\n        });\r\n    } else {\r\n      return navigate(\"/login\");\r\n    }\r\n  };\r\n\r\n  const handleBuy = (e) => {\r\n    const productID = e.target.getAttribute(\"dataid\");\r\n    if (window.localStorage.getItem(\"userToken\")) {\r\n      const token = window.localStorage.getItem(\"userToken\");\r\n      axios\r\n        .post(\"https://comfortina-api.vercel.app/api/v1/products/cart\", {\r\n          token,\r\n          productID,\r\n        })\r\n        .then((res) => {\r\n          const cart = user.cart.filter((ele) => ele === productId);\r\n          if (cart.length > 0) {\r\n            user.setCart((prev) => {\r\n              return prev.filter((ele) => ele !== productId);\r\n            });\r\n          } else {\r\n            user.setCart((prev) => [...prev, productId]);\r\n          }\r\n          setBuyBtn((prev) => !prev);\r\n        });\r\n    } else {\r\n      console.log(\"un logged\");\r\n      navigate(\"/login\");\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      className=\"flex flex-col items-center  w-96 relative group text-black\"\r\n      dataid={productId}\r\n    >\r\n      <button\r\n        onClick={handleFavorite}\r\n        dataid={productId}\r\n        className=\"absolute hidden opacity-0 transition-all duration-300 right-2 top-2 group-hover:block group-hover:opacity-100 \"\r\n      >\r\n        <img\r\n          dataid={productId}\r\n          src={!lovedBtn ? unloved : loved}\r\n          alt=\"unloved\"\r\n          className=\"h-5\"\r\n        />\r\n      </button>\r\n      <div className=\"relative\">\r\n        <img src={productImg} alt={productName} />\r\n        <button\r\n          dataid={productId}\r\n          onClick={handleBuy}\r\n          className=\"absolute bottom-2 right-2 w-10 opacity-0 transition-all border rounded-full p-1 border-black duration-300 group-hover:opacity-100\"\r\n        >\r\n          <img\r\n            dataid={productId}\r\n            src={!buyBtn ? buy : unbuy}\r\n            alt=\"Buy items\"\r\n          ></img>\r\n        </button>\r\n      </div>\r\n      <h4 className=\"text-md clamp\"> {productName}</h4>\r\n      <h4 className=\"font-bold\">{productPrice} EGP</h4>\r\n      {productSale > 0 && <div> {productSale}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\n\r\nfunction CategoryButton({ setCategory, image, active, categoryName }) {\r\n  return (\r\n    <button\r\n      className={`p-2 rounded-md ${active ? \"bg-light-red\" : \"\"}`}\r\n      data-category={categoryName}\r\n      onClick={setCategory}\r\n    >\r\n      <img src={image} alt={categoryName + \" icon\"} className=\"h-16\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default CategoryButton;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nfunction Pagination({ itemsCount, pageLimit, currentPage, handlePagintation }) {\r\n  const pages = Math.ceil(itemsCount / pageLimit);\r\n  const [arr, setArr] = useState([]);\r\n  const paginationFN = () => {\r\n    const array = [];\r\n    for (let i = 0; i < pages; i++) {\r\n      if (i == currentPage) {\r\n        array.push({ page: i + 1, active: true });\r\n      } else {\r\n        array.push({ page: i + 1, active: false });\r\n      }\r\n    }\r\n    setArr(array);\r\n  };\r\n  useEffect(() => {\r\n    paginationFN();\r\n  }, [pages, currentPage]);\r\n  return (\r\n    <div className=\"flex justify-center gap-2 py-2\">\r\n      {arr.length > 0 &&\r\n        arr.map((ele) => (\r\n          <button\r\n            onClick={handlePagintation}\r\n            key={ele.page}\r\n            className={\r\n              ele.active\r\n                ? \"border border-dark-blue   p-2 w-10 h-10 bg-light-red text-black \"\r\n                : \" border border-dark-blue   p-2 w-10 h-10 text-black\"\r\n            }\r\n          >\r\n            {ele.page}\r\n          </button>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport searchIcon from \"../assets/loupe.png\";\r\n\r\nfunction Search({ handleSearchInput, handleSearch }) {\r\n  return (\r\n    <div className=\"flex w-11/12 border-2 border-light-red shadow-md mx-2 my-5 \">\r\n      <input\r\n        type=\"text\"\r\n        autoFocus={true}\r\n        className=\"text-3xl bg-white w-10/12 h-10 text-black focus:outline-none py-1 px-2\"\r\n        onInput={(e) => handleSearchInput(e.target.value)}\r\n      />\r\n      <button className=\"bg-white\" onClick={handleSearch}>\r\n        <img src={searchIcon} alt=\"Search Icon\" className=\"h-10 p-1\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport SiteHeader from \"./Header\";\r\nimport shelf from \"../assets/shelf.png\";\r\nimport table from \"../assets/table.png\";\r\nimport storage from \"../assets/storage.png\";\r\nimport desk from \"../assets/desk.png\";\r\nimport chair from \"../assets/chair.png\";\r\nimport Product from \"./Product\";\r\nimport axios from \"axios\";\r\nimport CategoryButton from \"./CategoryButton\";\r\nimport Pagination from \"./Pagination\";\r\nimport Search from \"./Search\";\r\nimport notFound from \"../assets/404.png\";\r\n\r\nfunction ProductPage() {\r\n  const [products, setProducts] = useState();\r\n  const [category, setCategory] = useState([\r\n    { categoryName: \"shelve\", img: shelf, active: true },\r\n    { categoryName: \"chair\", img: chair, active: false },\r\n    { categoryName: \"table\", img: table, active: false },\r\n    { categoryName: \"storage\", img: storage, active: false },\r\n    { categoryName: \"desk\", img: desk, active: false },\r\n  ]);\r\n  const [page, setPage] = useState(0);\r\n  const [searchValue, setSearchValue] = React.useState(\"\");\r\n  useEffect(() => {\r\n    search();\r\n  }, [category, page]);\r\n\r\n  const search = () => {\r\n    axios\r\n      .get(\r\n        \"https://comfortina-api.vercel.app/api/v1/products?type=\" +\r\n          category.filter((ele) => ele.active === true)[0].categoryName +\r\n          \"&name=\" +\r\n          searchValue +\r\n          \"&limit=\" +\r\n          5000\r\n      )\r\n      .then((res) => {\r\n        setProducts(res.data.products);\r\n      });\r\n  };\r\n\r\n  const changeCategory = (e) => {\r\n    setCategory((prevCategoryList) => {\r\n      const categoryName =\r\n        e.target.getAttribute(\"data-category\") ||\r\n        e.target.parentNode.getAttribute(\"data-category\");\r\n      return prevCategoryList.map((category) => {\r\n        if (category.categoryName === categoryName) {\r\n          category.active = true;\r\n          return category;\r\n        } else {\r\n          category.active = false;\r\n          return category;\r\n        }\r\n      });\r\n    });\r\n    setPage(0);\r\n  };\r\n\r\n  const changePage = (e) => {\r\n    const page = Number(e.target.textContent) - 1;\r\n    setPage(page);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-b from-sky-400 to-sky-200 text-white h-fit\">\r\n      <SiteHeader absolute={false} />\r\n      <section className=\"grid grid-cols-products relative\">\r\n        <div className=\"categories flex flex-col items-center top-0 gap-x-10 py-10 border-r border-dark-blue\">\r\n          <Search handleSearchInput={setSearchValue} handleSearch={search} />\r\n          {category.map((ele) => (\r\n            <CategoryButton\r\n              key={ele.categoryName}\r\n              image={ele.img}\r\n              active={ele.active}\r\n              categoryName={ele.categoryName}\r\n              setCategory={changeCategory}\r\n            />\r\n          ))}\r\n        </div>\r\n        <div className=\"\">\r\n          <div className=\"flex flex-wrap justify-center gap-5 p-3\">\r\n            {products &&\r\n              (products.length > 0 ? (\r\n                products.slice(page * 10, (page + 1) * 10).map((ele) => {\r\n                  return (\r\n                    <Product\r\n                      key={ele._id}\r\n                      productImg={ele.img}\r\n                      productName={ele.name}\r\n                      productPrice={ele.price}\r\n                      productSale={ele.onSale}\r\n                      productId={ele._id}\r\n                    />\r\n                  );\r\n                })\r\n              ) : (\r\n                <div className=\"flex flex-col justify-center items-center h-screen\">\r\n                  <img src={notFound} alt={notFound} />\r\n                  <p className=\"text-3xl font-bold\">\r\n                    Sorry, We didn't find what you are looking for &#128532;\r\n                  </p>\r\n                  <p className=\"text-xl font-bold my-3\">\r\n                    Search about Something else\r\n                  </p>\r\n                </div>\r\n              ))}\r\n          </div>\r\n          {products && (\r\n            <Pagination\r\n              itemsCount={products.length}\r\n              pageLimit={10}\r\n              currentPage={page}\r\n              handlePagintation={changePage}\r\n            />\r\n          )}\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductPage;\r\n"],"names":["className","to","context","useContext","UserContext","overlay","Overlay","useState","favoriteCounter","setFavoriteCounter","cartCounter","setCartCounter","useEffect","favoriteList","length","cart","onClick","setFavoriteOverlay","prev","src","wish","alt","setCartOverlay","user","name","split","map","ele","join","props","absolute","productName","productPrice","productImg","productSale","productId","lovedBtn","setLovedBtn","buyBtn","setBuyBtn","navigate","useNavigate","filter","dataid","e","productID","target","getAttribute","window","localStorage","getItem","token","axios","then","res","setFavoriteList","loved","unloved","setCart","console","log","unbuy","buy","setCategory","image","active","categoryName","itemsCount","pageLimit","currentPage","handlePagintation","pages","Math","ceil","arr","setArr","array","i","push","page","paginationFN","handleSearchInput","handleSearch","type","autoFocus","onInput","value","searchIcon","products","setProducts","img","shelf","chair","category","setPage","React","searchValue","setSearchValue","search","data","changeCategory","prevCategoryList","parentNode","slice","Product","price","onSale","_id","notFound","Number","textContent"],"sourceRoot":""}