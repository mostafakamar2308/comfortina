{"version":3,"file":"static/js/360.7351d2e2.chunk.js","mappings":"yNAkCA,MA/BA,YAMI,IALFA,EAKC,EALDA,YACAC,EAIC,EAJDA,WACAC,EAGC,EAHDA,aACAC,EAEC,EAFDA,UACAC,EACC,EADDA,WAEA,OACE,iBAAKC,UAAU,+CAAf,WACE,0BACE,gBAAKA,UAAU,SAASC,IAAKL,EAAYM,IAAKP,OAEhD,iBAAKK,UAAU,qCAAf,WACE,4BACE,eAAIA,UAAU,iBAAd,SAAgCL,KAChC,eAAGK,UAAU,UAAb,UAAwBH,EAAxB,cAEF,gBAAKG,UAAU,mBAAf,UACE,oBACEG,QAAS,kBAAMJ,EAAWD,EAAjB,EACTE,UAAU,yGAFZ,WAIE,gBAAKC,IAAKG,EAAOJ,UAAU,MAAME,IAAI,mBAJvC,6BAWT,ECmDD,MA9EA,YAAoD,IAApCG,EAAmC,EAAnCA,cAAeC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,WACnC,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACMX,EAAa,SAACY,GAClB,GAAIC,OAAOC,aAAaC,QAAQ,aAAc,CAC5C,IAAMC,EAAQH,OAAOC,aAAaC,QAAQ,aAC1CE,IAAAA,KACQ,yDAA0D,CAC9DD,MAAAA,EACAE,UAAWN,IAEZO,MAAK,SAACC,GACLC,QAAQC,IAAIF,GACGb,EAAKgB,QAAO,SAACC,GAAD,OAASA,IAAQZ,CAAjB,IAChBa,OAAS,EAClBjB,GAAW,SAACkB,GACV,OAAOA,EAAKH,QAAO,SAACC,GAAD,OAASA,IAAQZ,CAAjB,GACpB,IAEDJ,GAAW,SAACkB,GAAD,wBAAcA,GAAd,CAAoBd,GAApB,GAEd,GACJ,CACF,EAaD,OAXAe,EAAAA,EAAAA,YAAU,WAER,IAAMC,EAAWrB,EAAKsB,KAAI,SAACL,GACzB,OAAOP,IAAAA,IACA,qDAAuDO,GAC3DL,MAAK,SAACW,GAAD,OAAcA,EAASC,IAAvB,GACT,IACDC,QAAQC,IAAIL,GAAUT,MAAK,SAACC,GAC1BT,EAAeS,EAChB,GACF,GAAE,CAACb,KAEF,iBAAKN,UAAU,4HAAf,WACE,iBAAKA,UAAU,wBAAf,WACE,eAAIA,UAAU,qBAAd,mBACA,mBACEG,QAAS,WACPE,GAAc,EACf,EAHH,UAKE,gBAAKJ,IAAKG,EAAOF,IAAI,gBAAgBF,UAAU,eAGnD,gBAAKA,UAAU,sDAAf,SACGS,EAAYe,OAAS,EACpBf,EAAYmB,KAAI,SAACL,GACf,IAAMU,EAAUV,EAAIU,QACpB,OACE,SAAC,EAAD,CACElC,WAAYA,EACZD,UAAWmC,EAAQC,IACnBvC,YAAasC,EAAQE,KACrBtC,aAAcoC,EAAQG,MACtBxC,WAAYqC,EAAQI,KAGzB,KAED,gBAAKrC,UAAU,mCAAf,yCAKJ,iBAAKA,UAAU,qCAAf,UACGS,EAAY6B,QAAO,SAACb,EAAMc,GAEzB,OADAnB,QAAQC,IAAII,EAAMc,EAAKN,QAAQG,OACxBX,EAAOc,EAAKN,QAAQG,KAC5B,GAAE,GAAI,IAJT,WASL,C","sources":["components/productBuy.js","components/Cart.js"],"sourcesContent":["import React from \"react\";\r\nimport close from \"../assets/close.png\";\r\n\r\nfunction ProductBuy({\r\n  productName,\r\n  productImg,\r\n  productPrice,\r\n  productId,\r\n  removeItem,\r\n}) {\r\n  return (\r\n    <div className=\"grid grid-cols-cart border shadow-md w-11/12\">\r\n      <div>\r\n        <img className=\"h-full\" src={productImg} alt={productName} />\r\n      </div>\r\n      <div className=\"flex flex-col justify-between py-5\">\r\n        <div>\r\n          <h2 className=\"text-2xl w-2/3\">{productName}</h2>\r\n          <p className=\"text-xl\">{productPrice} EGP</p>\r\n        </div>\r\n        <div className=\"flex justify-end\">\r\n          <button\r\n            onClick={() => removeItem(productId)}\r\n            className=\"bg-light-red border flex justify-center gap-x-2 items-center border-white rounded py-1 px-2 text-white\"\r\n          >\r\n            <img src={close} className=\"h-4\" alt=\"remove element\"></img>\r\n            Remove From Cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductBuy;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport close from \"../assets/close.png\";\r\nimport ProductBuy from \"./productBuy\";\r\n\r\nfunction Cart({ handleOverLay, cart, handleCart }) {\r\n  const [productData, setProductData] = useState([]);\r\n  const removeItem = (id) => {\r\n    if (window.localStorage.getItem(\"userToken\")) {\r\n      const token = window.localStorage.getItem(\"userToken\");\r\n      axios\r\n        .post(\"https://comfortina-api.vercel.app/api/v1/products/cart\", {\r\n          token,\r\n          productID: id,\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          const inCart = cart.filter((ele) => ele === id);\r\n          if (inCart.length > 0) {\r\n            handleCart((prev) => {\r\n              return prev.filter((ele) => ele !== id);\r\n            });\r\n          } else {\r\n            handleCart((prev) => [...prev, id]);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    //It works\r\n    const products = cart.map((ele) => {\r\n      return axios\r\n        .get(\"https://comfortina-api.vercel.app/api/v1/products/\" + ele)\r\n        .then((response) => response.data);\r\n    });\r\n    Promise.all(products).then((res) => {\r\n      setProductData(res);\r\n    });\r\n  }, [cart]);\r\n  return (\r\n    <div className=\"fixed opacity-100 shadow-xl translate-x-1/4 h-2/3 overflow-y-auto top-1/4 rounded-lg bg-white w-2/3 block m-auto z-40 p-5\">\r\n      <div className=\"flex justify-between \">\r\n        <h2 className=\"text-5xl font-bold\">Cart</h2>\r\n        <button\r\n          onClick={() => {\r\n            handleOverLay(false);\r\n          }}\r\n        >\r\n          <img src={close} alt=\"close overLay\" className=\"w-10\"></img>\r\n        </button>\r\n      </div>\r\n      <div className=\"flex flex-col justify-center items-center p-2 gap-5\">\r\n        {productData.length > 0 ? (\r\n          productData.map((ele) => {\r\n            const product = ele.product;\r\n            return (\r\n              <ProductBuy\r\n                removeItem={removeItem}\r\n                productId={product._id}\r\n                productName={product.name}\r\n                productPrice={product.price}\r\n                productImg={product.img}\r\n              />\r\n            );\r\n          })\r\n        ) : (\r\n          <div className=\"text-3xl font-bold leading-loose\">\r\n            No products in your cart\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"text-5xl font-bold text-center p-3\">\r\n        {productData.reduce((prev, curr) => {\r\n          console.log(prev, curr.product.price);\r\n          return prev + curr.product.price;\r\n        }, 0)}{\" \"}\r\n        EGP\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n"],"names":["productName","productImg","productPrice","productId","removeItem","className","src","alt","onClick","close","handleOverLay","cart","handleCart","useState","productData","setProductData","id","window","localStorage","getItem","token","axios","productID","then","res","console","log","filter","ele","length","prev","useEffect","products","map","response","data","Promise","all","product","_id","name","price","img","reduce","curr"],"sourceRoot":""}