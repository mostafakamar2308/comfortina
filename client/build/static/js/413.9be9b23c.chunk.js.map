{"version":3,"file":"static/js/413.9be9b23c.chunk.js","mappings":"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","sources":["components/CategoriesProduct.js","components/Product.js"],"sourcesContent":["import React from \"react\";\r\nimport Product from \"./Product\";\r\n\r\nfunction CategoriesProduct({ products, categoryName }) {\r\n  return (\r\n    <div className=\"max-w-screen\">\r\n      <h3 className=\"categories-header w-full  box-border py-5 text-center bg-light-red text-2xl font-bold text-white\">\r\n        Best {categoryName}\r\n      </h3>\r\n      <div className=\"products flex flex-wrap w-full justify-center gap-2 py-2\">\r\n        {products.map((ele) => {\r\n          return (\r\n            <Product\r\n              key={ele._id}\r\n              productId={ele._id}\r\n              productImg={ele.img}\r\n              productName={ele.name}\r\n              productPrice={ele.price}\r\n              productSale={ele.onSale}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoriesProduct;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport unloved from \"../assets/unlovedheart.png\";\r\nimport loved from \"../assets/lovedheart.png\";\r\nimport axios from \"axios\";\r\nimport buy from \"../assets/buy.png\";\r\nimport unbuy from \"../assets/unbuy.png\";\r\nimport { UserContext } from \"../App\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Product({\r\n  productName,\r\n  productPrice,\r\n  productImg,\r\n  productSale,\r\n  productId,\r\n}) {\r\n  const [lovedBtn, setLovedBtn] = useState(false);\r\n  const [buyBtn, setBuyBtn] = useState(false);\r\n  const user = useContext(UserContext);\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    const loved = user.favoriteList.filter((ele) => ele === productId);\r\n    loved.length > 0 ? setLovedBtn(true) : setLovedBtn(false);\r\n    const cartItem = user.cart.filter((ele) => ele === productId);\r\n    cartItem.length > 0 ? setBuyBtn(true) : setBuyBtn(false);\r\n  }, []);\r\n\r\n  const handleFavorite = (e) => {\r\n    const productID = e.target.getAttribute(\"dataid\");\r\n    if (window.localStorage.getItem(\"userToken\")) {\r\n      const token = window.localStorage.getItem(\"userToken\");\r\n      axios\r\n        .post(\"https://comfortina-api.vercel.app/api/v1/products/favorite\", {\r\n          token,\r\n          productID,\r\n        })\r\n        .then((res) => {\r\n          const loved = user.favoriteList.filter((ele) => ele === productId);\r\n          if (loved.length > 0) {\r\n            user.setFavoriteList((prev) => {\r\n              return prev.filter((ele) => ele !== productId);\r\n            });\r\n          } else {\r\n            user.setFavoriteList((prev) => [...prev, productId]);\r\n          }\r\n          setLovedBtn((prev) => !prev);\r\n        });\r\n    } else {\r\n      return navigate(\"/login\");\r\n    }\r\n  };\r\n\r\n  const handleBuy = (e) => {\r\n    const productID = e.target.getAttribute(\"dataid\");\r\n    if (window.localStorage.getItem(\"userToken\")) {\r\n      const token = window.localStorage.getItem(\"userToken\");\r\n      axios\r\n        .post(\"https://comfortina-api.vercel.app/api/v1/products/cart\", {\r\n          token,\r\n          productID,\r\n        })\r\n        .then((res) => {\r\n          const cart = user.cart.filter((ele) => ele === productId);\r\n          if (cart.length > 0) {\r\n            user.setCart((prev) => {\r\n              return prev.filter((ele) => ele !== productId);\r\n            });\r\n          } else {\r\n            user.setCart((prev) => [...prev, productId]);\r\n          }\r\n          setBuyBtn((prev) => !prev);\r\n        });\r\n    } else {\r\n      console.log(\"un logged\");\r\n      navigate(\"/login\");\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      className=\"flex flex-col items-center  w-96 relative group text-black\"\r\n      dataid={productId}\r\n    >\r\n      <button\r\n        onClick={handleFavorite}\r\n        dataid={productId}\r\n        className=\"absolute hidden opacity-0 transition-all duration-300 right-2 top-2 group-hover:block group-hover:opacity-100 \"\r\n      >\r\n        <img\r\n          dataid={productId}\r\n          src={!lovedBtn ? unloved : loved}\r\n          alt=\"unloved\"\r\n          className=\"h-5\"\r\n        />\r\n      </button>\r\n      <div className=\"relative\">\r\n        <img src={productImg} alt={productName} />\r\n        <button\r\n          dataid={productId}\r\n          onClick={handleBuy}\r\n          className=\"absolute bottom-2 right-2 w-10 opacity-0 transition-all border rounded-full p-1 border-black duration-300 group-hover:opacity-100\"\r\n        >\r\n          <img\r\n            dataid={productId}\r\n            src={!buyBtn ? buy : unbuy}\r\n            alt=\"Buy items\"\r\n          ></img>\r\n        </button>\r\n      </div>\r\n      <h4 className=\"text-md clamp\"> {productName}</h4>\r\n      <h4 className=\"font-bold\">{productPrice} EGP</h4>\r\n      {productSale > 0 && <div> {productSale}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n"],"names":["products","categoryName","className","map","ele","productId","_id","productImg","img","productName","name","productPrice","price","productSale","onSale","useState","lovedBtn","setLovedBtn","buyBtn","setBuyBtn","user","useContext","UserContext","navigate","useNavigate","useEffect","favoriteList","filter","length","cart","dataid","onClick","e","productID","target","getAttribute","window","localStorage","getItem","token","axios","then","res","setFavoriteList","prev","src","loved","unloved","alt","setCart","console","log","unbuy","buy"],"sourceRoot":""}